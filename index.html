<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QUIZ FOR CSS ASPIRANTS 04 MAY 2025 - SYED ASGHAR ALI SHAH</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Disable Text Selection */
        body {
            -webkit-user-select: none; /* Safari */
            -moz-user-select: none; /* Firefox */
            -ms-user-select: none; /* IE10+/Edge */
            user-select: none; /* Standard */
            font-family: 'Inter', sans-serif; /* Default font */
        }
        /* Custom scrollbar for better aesthetics */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 10px;
        }
        ::-webkit-scrollbar-thumb {
            background: #888;
            border-radius: 10px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #555;
        }
        /* Style radio buttons */
        input[type="radio"] {
            appearance: none;
            -webkit-appearance: none;
            width: 1.2em;
            height: 1.2em;
            border: 2px solid #cbd5e1; /* gray-300 */
            border-radius: 50%;
            margin-right: 0.5em;
            vertical-align: middle;
            position: relative;
            cursor: pointer;
            transition: background-color 0.2s ease-in-out, border-color 0.2s ease-in-out;
        }
        input[type="radio"]:checked {
            border-color: #4f46e5; /* indigo-600 */
            background-color: #4f46e5; /* indigo-600 */
        }
        input[type="radio"]:checked::after {
            content: '';
            display: block;
            width: 0.6em;
            height: 0.6em;
            background-color: white;
            border-radius: 50%;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }
        /* Add some hover effect */
         input[type="radio"]:hover:not(:checked) {
             border-color: #9ca3af; /* gray-400 */
         }
        /* Ensure labels are clickable */
        label {
            cursor: pointer;
            display: flex; /* Use flexbox for alignment */
            align-items: center; /* Vertically center items */
            padding: 8px 0; /* Add padding for better spacing */
        }
        /* Style for the quiz container */
        #quiz-container {
             max-height: calc(100vh - 250px); /* Adjust based on header/footer/timer height */
             overflow-y: auto;
             padding-right: 10px; /* Space for scrollbar */
        }
         /* Button styles */
        .quiz-button {
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem; /* rounded-lg */
            font-weight: 600; /* font-semibold */
            color: white;
            background-color: #4f46e5; /* indigo-600 */
            transition: background-color 0.3s ease;
            cursor: pointer;
            border: none;
            outline: none;
        }
        .quiz-button:hover {
            background-color: #4338ca; /* indigo-700 */
        }
        .quiz-button:disabled {
            background-color: #a5b4fc; /* indigo-300 */
            cursor: not-allowed;
        }
    </style>
    <link rel="preconnect" href="https://fonts.googleapis.com">
     <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
     <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body class="bg-gray-100 text-gray-800 min-h-screen flex flex-col">

    <header class="bg-gradient-to-r from-indigo-700 to-purple-800 text-white p-4 shadow-md sticky top-0 z-10 flex justify-between items-center rounded-b-lg">
        <div class="flex items-center space-x-4">
             <img src="https://media-hosting.imagekit.io//0b9a4af30efb4482/WhatsApp%20Image%202025-02-28%20at%203.15.19%20AM.jpeg?Expires=1835349432&Key-Pair-Id=K2ZIVPTIP2VGHC&Signature=jwJPYv24ynvpiPUADnh2kUGPUbG6OBggLpvXOj6~ZZAgts7lamWPTIZKmuIaQ5WaRUAG568acIjSbBE1XrKsIPvCHTXKNA-XF6ppaM~tacD0TMTVoTFd7-EsYFsesMaR~5AK7n5qr33hIwKVawluJ1rkdqmuQokM~T~W~O~6Yo-qXgYGio2IvfBsu1u~wEi1Cnk-5pAOavMUb9IfeY7E4FNwGBgiLCiHugKJD9sAY8As7S0szpehWI8WIQzMzNUFN4wvtPAamSART1m5nlUT4uLcvwdr-C1pk4kJN6I0itWzZEbZN04ANZexY3dpBhUDO0~UvQBCps64LPKIQBRYtA__"
                  alt="SYED ASGHAR ALI SHAH"
                  class="w-16 h-16 rounded-full border-2 border-white object-cover"
                  onerror="this.onerror=null; this.src='https://placehold.co/64x64/eeeeee/333333?text=SAS';">
            <div>
                 <h1 class="text-xl md:text-2xl font-bold">QUIZ FOR CSS ASPIRANTS 04 MAY 2025</h1>
                 <p class="text-sm md:text-base font-semibold">SYED ASGHAR ALI SHAH</p>
            </div>
        </div>
         <div id="timer-container" class="text-lg font-bold bg-white text-indigo-700 px-4 py-2 rounded-lg shadow hidden">
            Time Left: <span id="timer">40:00</span>
        </div>
    </header>

    <main class="flex-grow container mx-auto p-4 md:p-8">

        <section id="name-entry" class="bg-white p-6 md:p-8 rounded-lg shadow-lg max-w-lg mx-auto text-center">
            <h2 class="text-2xl font-bold mb-6 text-indigo-700">Welcome!</h2>
            <p class="mb-6 text-gray-600">Please enter your full name to start the quiz.</p>
            <input type="text" id="student-name" placeholder="Enter your full name" class="w-full px-4 py-2 border border-gray-300 rounded-lg mb-6 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent" required>
            <button id="start-quiz-btn" class="quiz-button w-full">Start Quiz</button>
            <p id="name-error" class="text-red-500 text-sm mt-2 hidden">Please enter your name.</p>
        </section>

        <section id="quiz-section" class="hidden bg-white p-6 md:p-8 rounded-lg shadow-lg">
            <h2 class="text-2xl font-bold mb-6 text-center text-indigo-700">Quiz Questions</h2>
            <form id="quiz-form">
                <div id="quiz-container" class="space-y-6 mb-6">
                    </div>
                <button type="button" id="submit-btn" class="quiz-button w-full md:w-auto block mx-auto">Submit Quiz</button>
            </form>
        </section>

        <section id="results-section" class="hidden bg-white p-6 md:p-8 rounded-lg shadow-lg max-w-2xl mx-auto text-center">
            <h2 class="text-2xl font-bold mb-6 text-indigo-700">Quiz Results</h2>
            <div class="text-left space-y-3 bg-gray-50 p-6 rounded-lg border border-gray-200">
                <p class="text-lg"><strong class="font-semibold text-gray-700">Name:</strong> <span id="result-name" class="text-gray-900"></span></p>
                <p class="text-lg"><strong class="font-semibold text-gray-700">Questions Attempted:</strong> <span id="result-attempted" class="text-gray-900"></span> / 100</p>
                <p class="text-lg"><strong class="font-semibold text-gray-700">Correct Answers:</strong> <span id="result-score" class="text-gray-900"></span> / 100</p>
                <p class="text-lg"><strong class="font-semibold text-gray-700">Percentage:</strong> <span id="result-percentage" class="text-gray-900 font-bold"></span></p>
                <p class="text-lg"><strong class="font-semibold text-gray-700">Time Taken:</strong> <span id="result-time" class="text-gray-900"></span></p>
            </div>
             <p class="mt-6 text-gray-600">Your results have been recorded. Thank you for participating!</p>
        </section>

        <form id="formspree-form" action="https://formspree.io/f/xwpvddea" method="POST" class="hidden">
            <input type="text" name="name" id="form-name">
            <input type="number" name="attempted" id="form-attempted">
            <input type="number" name="score" id="form-score">
            <input type="text" name="time_taken" id="form-time">
            <input type="hidden" name="_subject" value="New Quiz Submission!">
        </form>

    </main>

    <footer class="bg-gray-800 text-white p-6 text-center rounded-t-lg mt-8">
        <p class="mb-2">Need Assistance or Have Questions?</p>
        <p class="font-semibold mb-4">Contact: 03265762698</p>
        <p class="text-sm text-gray-400">&copy; 2025 CSS Aspirants Quiz Portal. All rights reserved.</p>
        <p class="text-sm text-gray-400">Designed for serious CSS preparation.</p>
    </footer>

    <script>
        // --- Quiz Data (100 Questions) ---
        const quizData = [
            // --- Grammar & Vocab Questions (From PDFs) ---
            // Set 1: Grammar Analysis PDF
            { question: "In the sentence 'TECHNOLOGY-facilitated gender-based violence is escalating...', identify the type of noun 'violence' is.", options: ["Proper/Concrete", "Common/Concrete", "Common/Abstract", "Collective/Abstract"], answer: "Common/Abstract", type: "grammar" },
            { question: "What is the function of the word 'their' in '...monitor convicted sex offenders after their release.'?", options: ["Personal Pronoun", "Possessive Pronoun", "Possessive Adjective", "Relative Pronoun"], answer: "Possessive Adjective", type: "grammar" },
            { question: "The verb phrase 'were reported' in '...complaints were reported...' is in which tense and voice?", options: ["Present Simple Active", "Past Simple Active", "Past Simple Passive", "Present Perfect Passive"], answer: "Past Simple Passive", type: "grammar" },
            { question: "Identify the adjective modifying 'gap' in the phrase 'a significant and persistent gap'.", options: ["significant", "persistent", "Both significant and persistent", "gap"], answer: "Both significant and persistent", type: "grammar" },
            { question: "What type of adverb is 'globally' in '...escalating at an alarming rate globally.'?", options: ["Adverb of Time", "Adverb of Manner", "Adverb of Degree", "Adverb of Place/Manner"], answer: "Adverb of Place/Manner", type: "grammar" },
            { question: "The phrase 'by the Digital Rights Foundation' is an example of a:", options: ["Noun Phrase", "Verb Phrase", "Adjectival Phrase", "Prepositional Phrase"], answer: "Prepositional Phrase", type: "grammar" },
            { question: "Which type of conjunction connects elements of equal grammatical rank (e.g., two nouns, two independent clauses)?", options: ["Subordinating Conjunction", "Coordinating Conjunction", "Correlative Conjunction", "Conjunctive Adverb"], answer: "Coordinating Conjunction", type: "grammar" },
            { question: "Classify the sentence: 'Although laws and protection mechanisms to address TF GBV do exist, they often operate in an uncoordinated manner.'", options: ["Simple", "Compound", "Complex", "Compound-Complex"], answer: "Complex", type: "grammar" },
            { question: "What is the function of the infinitive phrase 'to define TF GBV' in '...convened an expert group in 2022 to define TF GBV.'?", options: ["Noun (Subject)", "Adjective (modifying group)", "Adverb (showing purpose)", "Noun (Object)"], answer: "Adverb (showing purpose)", type: "grammar" },
            { question: "Which punctuation mark is used to create compound modifiers like 'gender-based'?", options: ["Comma (,)", "Hyphen (-)", "Em Dash (—)", "Apostrophe (')"], answer: "Hyphen (-)", type: "grammar" },
            { question: "The word 'Additionally' at the start of a sentence ('Additionally, there are GBV courts...') functions as a:", options: ["Preposition", "Coordinating Conjunction", "Subordinating Conjunction", "Conjunctive Adverb"], answer: "Conjunctive Adverb", type: "grammar" },
            { question: "Identify the abstract noun in the following list: 'commission', 'courts', 'awareness', 'devices'.", options: ["commission", "courts", "awareness", "devices"], answer: "awareness", type: "grammar" },
            { question: "In 'It was described as...', the pronoun 'It' replaces:", options: ["UN Women", "WHO", "TF GBV", "expert group"], answer: "TF GBV", type: "grammar" },
            { question: "The verb 'fails' in '...the current legal framework fails to criminalise...' is in which tense?", options: ["Past Simple", "Present Simple", "Present Perfect", "Past Perfect"], answer: "Present Simple", type: "grammar" },
            { question: "What does the participial phrase 'limiting their overall effectiveness' modify in the sentence '...operate in an uncoordinated manner, limiting their overall effectiveness.'?", options: ["manner", "operate", "The entire preceding clause", "they"], answer: "The entire preceding clause", type: "grammar" },
            { question: "Choose the most formal synonym for 'escalating'.", options: ["going up", "increasing", "worsening", "skyrocketing"], answer: "increasing", type: "vocabulary" },
            { question: "What part of speech is 'vigilant' in 'vigilant supervision'?", options: ["Noun", "Adverb", "Verb", "Adjective"], answer: "Adjective", type: "grammar" },
            { question: "Rearrange into a meaningful sentence: [essential / establish / It / commission / is / an / online / safety / to]", options: ["To establish an online safety commission it is essential.", "It is essential to establish an online safety commission.", "An online safety commission is essential to establish it.", "Essential it is to establish an online safety commission."], answer: "It is essential to establish an online safety commission.", type: "sentence_rearrangement" },
            { question: "The use of passive voice (e.g., 'complaints were reported') often emphasizes the:", options: ["Actor performing the action", "Time of the action", "Action or the recipient of the action", "Location of the action"], answer: "Action or the recipient of the action", type: "grammar" },
            { question: "What relationship does the preposition 'against' show in 'offences against dignity'?", options: ["Support", "Location", "Time", "Opposition/Target"], answer: "Opposition/Target", type: "grammar" },

            // Set 2: Idioms & Phrases PDF
            { question: "What is the meaning of the idiom 'Baying for blood'?", options: ["Offering forgiveness", "Demanding aggressive punishment", "Being thirsty", "Searching for evidence"], answer: "Demanding aggressive punishment", type: "idiom" },
            { question: "If someone has 'Little appetite for' something, it means they have:", options: ["Great enthusiasm for it", "A neutral opinion", "Very little interest in it", "A plan to consume it"], answer: "Very little interest in it", type: "idiom" },
            { question: "The phrase 'Top brass' refers to:", options: ["Musical instruments", "Lowest ranking members", "Highest positions of authority", "Decorative items"], answer: "Highest positions of authority", type: "idiom" },
            { question: "What does 'Paring back' bilateral ties mean?", options: ["Strengthening ties", "Ignoring ties", "Reducing ties gradually", "Celebrating ties"], answer: "Reducing ties gradually", type: "idiom" },
            { question: "A 'Convenient alibi' is an excuse that is:", options: ["Difficult to believe", "Completely true and verifiable", "Easy or useful, possibly untrue", "Related to travel"], answer: "Easy or useful, possibly untrue", type: "idiom" },
            { question: "To 'Poison bilateral ties' means to:", options: ["Improve relations", "Discuss relations secretly", "Damage or ruin relations", "Make relations toxic literally"], answer: "Damage or ruin relations", type: "idiom" },
            { question: "If something will be felt for a 'long time to come', it means it will be felt:", options: ["Only briefly", "Immediately", "For a considerable future period", "Only in the past"], answer: "For a considerable future period", type: "idiom" },
            { question: "What does it mean to 'Take up the issue'?", options: ["Ignore the problem", "Make the issue smaller", "Begin to deal with or discuss the issue", "Vote on the issue"], answer: "Begin to deal with or discuss the issue", type: "idiom" },
            { question: "'Sooner rather than later' implies something will happen:", options: ["Eventually, after a long time", "Perhaps never", "Fairly soon, without much delay", "Exactly on schedule"], answer: "Fairly soon, without much delay", type: "idiom" },
            { question: "To 'Provide an off-ramp' in a crisis means to:", options: ["Block escape routes", "Offer a way to de-escalate or withdraw", "Increase the speed of events", "Build a physical ramp"], answer: "Offer a way to de-escalate or withdraw", type: "idiom" },
            { question: "If a situation is 'Looking up', it is:", options: ["Becoming critical", "Staying the same", "Improving or becoming hopeful", "Being observed from below"], answer: "Improving or becoming hopeful", type: "idiom" },
            { question: "To 'Arrive at a consensus' means to:", options: ["Reach a disagreement", "End the discussion abruptly", "Reach a general agreement", "Vote individually"], answer: "Reach a general agreement", type: "idiom" },
            { question: "What does 'In the rearview mirror' metaphorically refer to?", options: ["Future events", "Something directly ahead", "Something in the past and receding", "A reflection"], answer: "Something in the past and receding", type: "idiom" },
            { question: "Speaking with a 'Spirit of frankness' means speaking with:", options: ["Deception and secrecy", "Hesitation and doubt", "Openness, honesty, and directness", "Anger and hostility"], answer: "Openness, honesty, and directness", type: "idiom" },
            { question: "If people are 'On the same page', they:", options: ["Are reading the same book", "Are confused", "Have a shared understanding or agreement", "Are in different locations"], answer: "Have a shared understanding or agreement", type: "idiom" },
            { question: "Something 'Seared into memory' is remembered:", options: ["Vaguely and without emotion", "Only for a short time", "Vividly and often painfully", "Incorrectly"], answer: "Vividly and often painfully", type: "idiom" },
            { question: "To 'Run out of' supplies means to:", options: ["Have plenty of supplies", "Replenish supplies", "Exhaust the entire supply", "Distribute supplies"], answer: "Exhaust the entire supply", type: "idiom" },
            { question: "If a warning 'Fell on deaf ears', it was:", options: ["Heard clearly by everyone", "Whispered quietly", "Ignored or disregarded", "Repeated loudly"], answer: "Ignored or disregarded", type: "idiom" },
            { question: "'Bargaining chips' in negotiations are used as:", options: ["Snacks", "Gifts", "Leverage or negotiating tools", "Final agreements"], answer: "Leverage or negotiating tools", type: "idiom" },
            { question: "To be 'On tenterhooks' means to be in a state of:", options: ["Calm relaxation", "Certainty and confidence", "Suspense or anxiety", "Deep sleep"], answer: "Suspense or anxiety", type: "idiom" },
            { question: "A 'Window of opportunity' is a(n):", options: ["Permanent chance", "Type of building feature", "Limited period to seize an opportunity", "Missed chance"], answer: "Limited period to seize an opportunity", type: "idiom" },
            { question: "To 'Embark on' something means to:", options: ["Finish or conclude it", "Avoid it", "Start something new or important", "Travel by boat"], answer: "Start something new or important", type: "idiom" },
            { question: "If hysteria is 'Whipped up', it is:", options: ["Calmed down", "Accidentally created", "Deliberately incited or provoked", "Studied carefully"], answer: "Deliberately incited or provoked", type: "idiom" },
            { question: "To 'Rule out' a possibility means to:", options: ["Strongly consider it", "Include it", "Decide it's impossible or won't happen", "Investigate it further"], answer: "Decide it's impossible or won't happen", type: "idiom" },
            { question: "'Jumping the gun' means:", options: ["Waiting patiently", "Acting or speaking too soon", "Winning a race", "Handling firearms"], answer: "Acting or speaking too soon", type: "idiom" },
            { question: "If someone is 'Hard-pressed' to do something, they are:", options: ["Finding it easy", "Eager to do it", "Finding it difficult, struggling", "Well-prepared"], answer: "Finding it difficult, struggling", type: "idiom" },
            { question: "A 'Face-saving' action is done to:", options: ["Cause embarrassment", "Reveal the truth", "Avoid humiliation or losing respect", "Improve facial features"], answer: "Avoid humiliation or losing respect", type: "idiom" },
            { question: "To 'Buy the argument' means to:", options: ["Reject the reasoning", "Pay for the argument", "Accept or believe the argument", "Ignore the argument"], answer: "Accept or believe the argument", type: "idiom" },
            { question: "'Adverse fallout' refers to:", options: ["Positive outcomes", "Expected results", "Negative consequences or results", "Nuclear radiation"], answer: "Negative consequences or results", type: "idiom" },
            { question: "The 'Kiss of death' for something means an event that:", options: ["Ensures its success", "Is romantic", "Causes it to fail", "Revives it"], answer: "Causes it to fail", type: "idiom" },

            // --- One Paper MCQs (Pages ~121-140 focus: GK, Abbr, Sports, Pol Sci, Econ, CA) ---
            // Abbreviations, Acronyms and Terms (Starts Page 116, relevant to range)
            { question: "What does the abbreviation 'UNESCO' stand for?", options: ["United Nations Environmental Science and Cultural Organization", "United Nations Educational, Scientific and Cultural Organization", "United European Science and Commerce Organization", "United Nations Engineering and Scientific Cooperation Organization"], answer: "United Nations Educational, Scientific and Cultural Organization", type: "abbreviation" },
            { question: "The acronym 'RADAR' stands for:", options: ["Radio Detection and Ranging", "Rapid Deployment and Recovery", "Radio Direction and Ranging", "Remote Data Acquisition Receiver"], answer: "Radio Detection and Ranging", type: "abbreviation" },
            { question: "What is the full form of 'SIM' as used in mobile phones?", options: ["Single Information Module", "Subscriber Identity Module", "System Integration Matrix", "Standard Interface Module"], answer: "Subscriber Identity Module", type: "abbreviation" },
            { question: "The term 'INTERPOL' is an abbreviation for:", options: ["International Police", "Internal Politics", "International Policy", "Interconnected Policing"], answer: "International Police", type: "abbreviation" },
            { question: "'SAARC' stands for:", options: ["South Asian Association for Regional Cooperation", "South African Association for Regional Cooperation", "Southeast Asian Association for Regional Commerce", "South Asian Alliance for Regional Cooperation"], answer: "South Asian Association for Regional Cooperation", type: "abbreviation" },
            { question: "What does 'HTML' stand for in the context of the internet?", options: ["HyperText Markup Language", "High Transfer Media Link", "Hyper Transfer Mode Language", "High Text Markup Link"], answer: "HyperText Markup Language", type: "abbreviation" },
            { question: "The abbreviation 'FBI' refers to which US agency?", options: ["Federal Bureau of Investigation", "Federal Board of Inquiry", "Foreign Business Integration", "Federal Banking Institute"], answer: "Federal Bureau of Investigation", type: "abbreviation" },
            { question: "'WHO' is the abbreviation for which international organization?", options: ["World Health Organization", "World Humanitarian Organization", "World Habitat Organization", "Western Hemisphere Organization"], answer: "World Health Organization", type: "abbreviation" },
            { question: "What does 'GDP' stand for in economics?", options: ["General Development Plan", "Gross Domestic Product", "Global Distribution Protocol", "Government Debt Position"], answer: "Gross Domestic Product", type: "abbreviation" },
            { question: "The acronym 'LASER' stands for:", options: ["Light Amplification by Stimulated Emission of Radiation", "Light Absorption by Stimulated Energy Radiation", "Longitudinal Amplification by Sound Emission and Resonance", "Light Amplification by Saturated Emission of Radiation"], answer: "Light Amplification by Stimulated Emission of Radiation", type: "abbreviation" },

            // Sports (Starts Page 130)
            { question: "In which sport is the term 'Ashes' used?", options: ["Football", "Tennis", "Cricket", "Hockey"], answer: "Cricket", type: "sports" },
            { question: "How many players are there on each side in a standard game of basketball?", options: ["5", "6", "7", "11"], answer: "5", type: "sports" },
            { question: "The term 'Grand Slam' is associated with which sport?", options: ["Golf", "Tennis", "Football", "Chess"], answer: "Tennis", type: "sports" },
            { question: "Which country hosted the first modern Olympic Games in 1896?", options: ["France", "Greece", "United Kingdom", "Germany"], answer: "Greece", type: "sports" },
            { question: "In which sport would you perform a 'slam dunk'?", options: ["Volleyball", "Basketball", "Tennis", "Badminton"], answer: "Basketball", type: "sports" },
            { question: "The Ryder Cup is a famous trophy in which sport?", options: ["Tennis", "Cricket", "Golf", "Rugby"], answer: "Golf", type: "sports" },
            { question: "How long is a standard marathon race?", options: ["26 km", "42.195 km", "50 km", "10 km"], answer: "42.195 km", type: "sports" },
            { question: "'Checkmate' is a term used in which game?", options: ["Bridge", "Poker", "Draughts", "Chess"], answer: "Chess", type: "sports" },
            { question: "Which country won the first FIFA World Cup in 1930?", options: ["Brazil", "Argentina", "Uruguay", "Italy"], answer: "Uruguay", type: "sports" },
            { question: "The term 'LBW' (Leg Before Wicket) is used in:", options: ["Hockey", "Football", "Cricket", "Baseball"], answer: "Cricket", type: "sports" },

             // Political Science (Starts Page 136)
            { question: "Which political system is characterized by the rule of a single person with absolute power?", options: ["Democracy", "Oligarchy", "Autocracy", "Republic"], answer: "Autocracy", type: "pol_sci" },
            { question: "A system of government where the head of state is also the head of government and leads the executive branch is called:", options: ["Parliamentary System", "Presidential System", "Semi-Presidential System", "Monarchy"], answer: "Presidential System", type: "pol_sci" },
            { question: "What term describes a state ruled by religious leaders?", options: ["Plutocracy", "Theocracy", "Aristocracy", "Meritocracy"], answer: "Theocracy", type: "pol_sci" },
            { question: "In a federal system of government, power is divided between:", options: ["The legislature and the judiciary", "The upper and lower houses of parliament", "A central government and regional/state governments", "The executive and the legislative branches"], answer: "A central government and regional/state governments", type: "pol_sci" },
            { question: "The concept of 'Separation of Powers' is most commonly associated with dividing government functions among which branches?", options: ["Executive, Legislative, Judicial", "Federal, State, Local", "Military, Civil, Religious", "Monarchy, Aristocracy, Democracy"], answer: "Executive, Legislative, Judicial", type: "pol_sci" },

            // Economics (Starts Page 138)
            { question: "What economic term describes a general increase in prices and fall in the purchasing value of money?", options: ["Deflation", "Stagflation", "Inflation", "Recession"], answer: "Inflation", type: "economics" },
            { question: "Which type of market structure is characterized by a single seller dominating the market?", options: ["Perfect Competition", "Monopolistic Competition", "Oligopoly", "Monopoly"], answer: "Monopoly", type: "economics" },
            { question: "'Laissez-faire' economics advocates for:", options: ["Heavy government regulation", "Minimal government intervention", "Government ownership of production", "Equal distribution of wealth"], answer: "Minimal government intervention", type: "economics" },
            { question: "The study of individual economic units like households and firms is known as:", options: ["Macroeconomics", "Microeconomics", "Econometrics", "Development Economics"], answer: "Microeconomics", type: "economics" },
            { question: "What does 'Fiscal Policy' primarily involve?", options: ["Controlling the money supply and interest rates", "Government spending and taxation", "International trade regulations", "Setting exchange rates"], answer: "Government spending and taxation", type: "economics" },

            // General Knowledge & Current Affairs: Frequently Asked Questions (Starts Page 141 - Sample based on typical GK)
            // Note: These are generic examples as specific questions depend heavily on the exact content of pages 121-140.
            { question: "Which is the largest ocean in the world?", options: ["Atlantic Ocean", "Indian Ocean", "Arctic Ocean", "Pacific Ocean"], answer: "Pacific Ocean", type: "general_knowledge" },
            { question: "The Great Wall of China was primarily built to protect against invasions from which group?", options: ["Mongols", "Japanese", "Russians", "Indians"], answer: "Mongols", type: "general_knowledge" },
            { question: "What is the capital city of Canada?", options: ["Toronto", "Vancouver", "Montreal", "Ottawa"], answer: "Ottawa", type: "general_knowledge" },
            { question: "Which element has the chemical symbol 'Fe'?", options: ["Gold", "Silver", "Iron", "Fluorine"], answer: "Iron", type: "general_knowledge" },
            { question: "The theory of relativity is most famously associated with which scientist?", options: ["Isaac Newton", "Galileo Galilei", "Albert Einstein", "Nikola Tesla"], answer: "Albert Einstein", type: "general_knowledge" },
            { question: "Which planet is known as the 'Red Planet'?", options: ["Jupiter", "Saturn", "Mars", "Venus"], answer: "Mars", type: "general_knowledge" },
            { question: "What is the main gas found in the air we breathe?", options: ["Oxygen", "Carbon Dioxide", "Nitrogen", "Hydrogen"], answer: "Nitrogen", type: "general_knowledge" },
            { question: "Who wrote the play 'Romeo and Juliet'?", options: ["Charles Dickens", "William Shakespeare", "Jane Austen", "Leo Tolstoy"], answer: "William Shakespeare", type: "general_knowledge" },
            { question: "Which continent is the largest by land area?", options: ["Africa", "North America", "Asia", "South America"], answer: "Asia", type: "general_knowledge" },
            { question: "What is the hardest natural substance on Earth?", options: ["Gold", "Iron", "Quartz", "Diamond"], answer: "Diamond", type: "general_knowledge" },
            { question: "Which country is home to the ancient city of Machu Picchu?", options: ["Brazil", "Mexico", "Peru", "Chile"], answer: "Peru", type: "general_knowledge" },
            { question: "What is the primary function of the World Trade Organization (WTO)?", options: ["Providing humanitarian aid", "Regulating international trade", "Maintaining global peace", "Promoting cultural exchange"], answer: "Regulating international trade", type: "general_knowledge" },
            { question: "Which famous landmark is located in Agra, India?", options: ["Gateway of India", "Taj Mahal", "Hawa Mahal", "Qutub Minar"], answer: "Taj Mahal", type: "general_knowledge" },
            { question: "The Amazon rainforest is primarily located in which continent?", options: ["Asia", "Africa", "South America", "Australia"], answer: "South America", type: "general_knowledge" },
             { question: "What is the longest river in Pakistan?", options: ["Ravi", "Chenab", "Sutlej", "Indus"], answer: "Indus", type: "general_knowledge" }, // Pakistan related GK
             { question: "K2, the second highest mountain in the world, is located in which range?", options: ["Himalayas", "Karakoram", "Hindu Kush", "Pamir"], answer: "Karakoram", type: "general_knowledge" }, // Pakistan related GK
             { question: "Which international organization has its headquarters in Brussels, Belgium?", options: ["United Nations (UN)", "North Atlantic Treaty Organization (NATO)", "World Health Organization (WHO)", "International Monetary Fund (IMF)"], answer: "North Atlantic Treaty Organization (NATO)", type: "general_knowledge" },
             { question: "What is the study of earthquakes called?", options: ["Meteorology", "Geology", "Seismology", "Volcanology"], answer: "Seismology", type: "general_knowledge" },
             { question: "Which country awards the Nobel Prizes?", options: ["Switzerland & Norway", "Sweden & Norway", "Denmark & Sweden", "Finland & Switzerland"], answer: "Sweden & Norway", type: "general_knowledge" }, // Nobel info likely in GK section
             { question: "The currency 'Yen' belongs to which country?", options: ["China", "South Korea", "Japan", "Vietnam"], answer: "Japan", type: "general_knowledge" } // Currency info likely in GK section

        ];

        // --- DOM Elements ---
        const nameEntrySection = document.getElementById('name-entry');
        const quizSection = document.getElementById('quiz-section');
        const resultsSection = document.getElementById('results-section');
        const nameInput = document.getElementById('student-name');
        const startQuizBtn = document.getElementById('start-quiz-btn');
        const nameError = document.getElementById('name-error');
        const quizForm = document.getElementById('quiz-form');
        const quizContainer = document.getElementById('quiz-container');
        const submitBtn = document.getElementById('submit-btn');
        const timerDisplay = document.getElementById('timer');
        const timerContainer = document.getElementById('timer-container'); // Container for timer display

        const resultName = document.getElementById('result-name');
        const resultAttempted = document.getElementById('result-attempted');
        const resultScore = document.getElementById('result-score');
        const resultPercentage = document.getElementById('result-percentage');
        const resultTime = document.getElementById('result-time');

        const formspreeForm = document.getElementById('formspree-form');
        const formName = document.getElementById('form-name');
        const formAttempted = document.getElementById('form-attempted');
        const formScore = document.getElementById('form-score');
        const formTime = document.getElementById('form-time');

        // --- Quiz State ---
        let currentQuestionIndex = 0; // Not used for displaying all at once, but useful if pagination was needed
        let score = 0;
        let attemptedQuestions = 0;
        let timerInterval;
        let timeLeft = 40 * 60; // 40 minutes in seconds
        let startTime;
        let studentName = '';
        let quizSubmitted = false; // Flag to prevent multiple submissions

        // --- Functions ---

        // Function to shuffle an array (Fisher-Yates Algorithm)
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]]; // Swap elements
            }
            return array;
        }


        // Function to load questions into the form
        function loadQuestions() {
            quizContainer.innerHTML = ''; // Clear previous questions if any
            // Ensure we only use the first 100 questions if more were accidentally added
            const questionsToLoad = quizData.slice(0, 100);
            const shuffledQuizData = shuffleArray([...questionsToLoad]); // Shuffle question order

            shuffledQuizData.forEach((q, index) => {
                const questionElement = document.createElement('div');
                questionElement.classList.add('border', 'border-gray-200', 'p-4', 'rounded-lg', 'bg-gray-50');
                // Find original index based on the question text (assuming unique questions)
                const originalIndex = quizData.findIndex(item => item.question === q.question);
                questionElement.setAttribute('data-question-index', originalIndex); // Store original index

                const questionText = document.createElement('p');
                questionText.classList.add('font-semibold', 'mb-3', 'text-lg');
                questionText.textContent = `${index + 1}. ${q.question}`;
                questionElement.appendChild(questionText);

                const optionsContainer = document.createElement('div');
                optionsContainer.classList.add('space-y-2');

                // Shuffle options for each question
                const shuffledOptions = shuffleArray([...q.options]);

                shuffledOptions.forEach(option => {
                    // Create a more robust unique ID
                    const optionCleaned = option.toString().replace(/[^a-zA-Z0-9]/g, ''); // Remove special chars for ID
                    const optionId = `q${index}_opt_${optionCleaned}_${Math.random().toString(36).substring(2, 7)}`; // Add random string

                    const label = document.createElement('label');
                    label.classList.add('block', 'text-gray-700', 'hover:bg-indigo-50', 'p-2', 'rounded'); // Added padding and hover
                    label.setAttribute('for', optionId);

                    const radio = document.createElement('input');
                    radio.type = 'radio';
                    radio.name = `question_${index}`; // Group radios by the displayed index
                    radio.value = option;
                    radio.id = optionId;
                    radio.classList.add('mr-2', 'align-middle'); // Added align-middle

                    label.appendChild(radio);
                    label.appendChild(document.createTextNode(option)); // Add text node for the option
                    optionsContainer.appendChild(label);
                });

                questionElement.appendChild(optionsContainer);
                quizContainer.appendChild(questionElement);
            });
        }

        // Function to start the timer
        function startTimer() {
            startTime = new Date();
            timerContainer.classList.remove('hidden'); // Show timer
            timeLeft = 40 * 60; // Reset timer
             timerDisplay.textContent = `40:00`; // Reset display
             timerContainer.classList.remove('bg-red-100', 'text-red-700'); // Reset color
             timerContainer.classList.add('bg-white', 'text-indigo-700');

            // Clear any existing interval before starting a new one
             clearInterval(timerInterval);

            timerInterval = setInterval(() => {
                timeLeft--;
                const minutes = Math.floor(timeLeft / 60);
                const seconds = timeLeft % 60;
                timerDisplay.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;

                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    submitQuiz(true); // Auto-submit
                }
                 // Change color when time is low (e.g., last 5 minutes)
                if (timeLeft <= 300 && timeLeft > 0) { // 5 minutes = 300 seconds
                    timerContainer.classList.remove('bg-white', 'text-indigo-700');
                    timerContainer.classList.add('bg-red-100', 'text-red-700');
                } else if (timeLeft > 300) {
                     timerContainer.classList.remove('bg-red-100', 'text-red-700');
                     timerContainer.classList.add('bg-white', 'text-indigo-700');
                }

            }, 1000);
        }

        // Function to calculate and display results
        function showResults() {
            score = 0;
            attemptedQuestions = 0;
            const endTime = new Date();
            // Ensure startTime is valid before calculating difference
            const timeDiff = startTime ? Math.floor((endTime - startTime) / 1000) : 0; // Time in seconds
            const minutesTaken = Math.floor(timeDiff / 60);
            const secondsTaken = timeDiff % 60;
            const timeTakenString = `${minutesTaken} min ${secondsTaken} sec`;

            const totalQuestions = Math.min(quizData.length, 100); // Use 100 or actual length if less

            const questionElements = quizContainer.querySelectorAll('div[data-question-index]');

            questionElements.forEach((qElement, displayIndex) => {
                const originalIndex = parseInt(qElement.getAttribute('data-question-index'));
                 // Check if originalIndex is valid
                if (originalIndex >= 0 && originalIndex < quizData.length) {
                    const questionData = quizData[originalIndex];
                    const selectedOption = quizForm.querySelector(`input[name="question_${displayIndex}"]:checked`);

                    if (selectedOption) {
                        attemptedQuestions++;
                        // Ensure comparison is strict and handles potential type issues if needed
                        if (selectedOption.value === String(questionData.answer)) {
                            score++;
                        }
                    }
                } else {
                    console.warn(`Invalid originalIndex ${originalIndex} found for displayIndex ${displayIndex}`);
                }
            });


            // Display results
            resultName.textContent = studentName;
            resultAttempted.textContent = `${attemptedQuestions} / ${totalQuestions}`;
            resultScore.textContent = `${score} / ${totalQuestions}`;
            resultPercentage.textContent = ((score / totalQuestions) * 100).toFixed(1) + '%';
            resultTime.textContent = timeTakenString;

            // Populate hidden form
            formName.value = studentName;
            formAttempted.value = attemptedQuestions;
            formScore.value = score;
            formTime.value = timeTakenString;

            // Submit hidden form
            fetch(formspreeForm.action, {
                method: formspreeForm.method,
                body: new FormData(formspreeForm),
                headers: {
                    'Accept': 'application/json'
                }
            }).then(response => {
                if (response.ok) {
                    console.log('Form submitted successfully via fetch!');
                } else {
                     response.json().then(data => {
                         console.error('Form submission via fetch failed:', data.errors)
                     });
                     // Consider fallback or user message here
                }
            }).catch(error => {
                console.error('Error submitting form via fetch:', error);
                 // Consider fallback or user message here
            });


            // Show results section, hide quiz
            quizSection.classList.add('hidden');
            resultsSection.classList.remove('hidden');
            timerContainer.classList.add('hidden'); // Hide timer on results page

        }

        // Function to handle quiz submission
        function submitQuiz(isAutoSubmit = false) {
             if (quizSubmitted) return; // Prevent multiple submissions
             quizSubmitted = true;

            clearInterval(timerInterval); // Stop the timer
            submitBtn.disabled = true; // Disable button after submission
            submitBtn.textContent = 'Submitting...';

            if (isAutoSubmit) {
                console.log("Time's up! Auto-submitting...");
                // Optionally add a message to the user about auto-submission
                // alert("Time's up! Your quiz is being submitted automatically."); // Avoid alerts if possible
            }

            showResults();
        }

        // --- Event Listeners ---

        // Start Quiz Button
        startQuizBtn.addEventListener('click', () => {
            studentName = nameInput.value.trim();
            if (studentName) {
                nameError.classList.add('hidden');
                nameEntrySection.classList.add('hidden');
                 quizSubmitted = false; // Reset submission flag for new quiz start
                 submitBtn.disabled = false; // Re-enable submit button
                 submitBtn.textContent = 'Submit Quiz'; // Reset button text
                quizSection.classList.remove('hidden');
                 resultsSection.classList.add('hidden'); // Hide results if restarting
                loadQuestions();
                startTimer();
            } else {
                nameError.classList.remove('hidden');
            }
        });

        // Submit Button
        submitBtn.addEventListener('click', () => submitQuiz(false));

        // Disable Right-Click
        document.addEventListener('contextmenu', event => event.preventDefault());

         // Disable certain key combinations (basic attempt)
        document.addEventListener('keydown', function(event) {
            // Disable F12
            if (event.key === 'F12') {
                event.preventDefault();
            }
            // Disable Ctrl+Shift+I, Ctrl+Shift+J, Ctrl+Shift+C, Ctrl+U
            if (event.ctrlKey && event.shiftKey && ['I', 'J', 'C'].includes(event.key.toUpperCase())) {
                 event.preventDefault();
            }
             if (event.ctrlKey && (event.key.toUpperCase() === 'U' || event.key.toUpperCase() === 'S')) { // Disable Ctrl+U and Ctrl+S
                 event.preventDefault();
             }
        });

    </script>

</body>
</html>
